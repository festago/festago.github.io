{"componentChunkName":"component---src-templates-post-jsx","path":"/event-singlelivedata/","result":{"data":{"site":{"siteMetadata":{"title":"Festago"}},"markdownRemark":{"id":"9ef33612-c159-552c-ba72-40903662c51c","excerpt":"ì•ˆë…•í•˜ì„¸ìš”. í˜ìŠ¤íƒ€ê³ ì˜ í•´ì‹œì…ë‹ˆë‹¤. í˜ìŠ¤íƒ€ê³  ì•±ì„ ê°œë°œí•˜ë©´ì„œ ë‹¤ë¥¸ ì•¡í‹°ë¹„í‹°ë¡œ ë„˜ì–´ê°€ê±°ë‚˜ í† ìŠ¤íŠ¸ë¥¼ ë„ìš°ëŠ” ë“±ì˜ ì´ë²¤íŠ¸ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ë¥¼ ê³ ë¯¼í•˜ê²Œ ë˜ì—ˆê³ , ì´ëŸ¬í•œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì‹œë„í–ˆë˜ ë°©ë²•ê³¼ ê²ªì—ˆë˜ ë¬¸ì œì , ê·¸ë¦¬ê³  í•´ê²° ë°©ë²•ì— ëŒ€í•´ ë‹¤ë£¨ë ¤ í•©ë‹ˆë‹¤. ë¨¼ì € ì–´ë–¤ ìƒí™©ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ”ì§€ ì½”ë“œë¥¼ í†µí•´ ì‚´í´ë³´ì. ë·°ëª¨ë¸ì—ì„œ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ í™•ì¸í•´ ë¡œê·¸â€¦","html":"<p>ì•ˆë…•í•˜ì„¸ìš”. í˜ìŠ¤íƒ€ê³ ì˜ í•´ì‹œì…ë‹ˆë‹¤.</p>\n<p>í˜ìŠ¤íƒ€ê³  ì•±ì„ ê°œë°œí•˜ë©´ì„œ ë‹¤ë¥¸ ì•¡í‹°ë¹„í‹°ë¡œ ë„˜ì–´ê°€ê±°ë‚˜ í† ìŠ¤íŠ¸ë¥¼ ë„ìš°ëŠ” ë“±ì˜ ì´ë²¤íŠ¸ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ë¥¼ ê³ ë¯¼í•˜ê²Œ ë˜ì—ˆê³ , ì´ëŸ¬í•œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì‹œë„í–ˆë˜ ë°©ë²•ê³¼ ê²ªì—ˆë˜ ë¬¸ì œì , ê·¸ë¦¬ê³  í•´ê²° ë°©ë²•ì— ëŒ€í•´ ë‹¤ë£¨ë ¤ í•©ë‹ˆë‹¤.</p>\n<hr>\n<p>ë¨¼ì € ì–´ë–¤ ìƒí™©ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ”ì§€ ì½”ë“œë¥¼ í†µí•´ ì‚´í´ë³´ì.</p>\n<p>ë·°ëª¨ë¸ì—ì„œ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ í™•ì¸í•´ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìê°€ ì•„ë‹Œ ê²½ìš° SignInActivityë¡œ ì´ë™í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// MyPageViewModel</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">loadUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>authRepository<span class=\"token punctuation\">.</span>isSigned<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// SignInActivityë¡œ ì´ë™!</span>\n    <span class=\"token punctuation\">}</span>\n    viewModelScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ìœ ì € ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì‚¬ìš©ìê°€ ë§ˆì´í˜ì´ì§€ì—ì„œ íšŒì› íƒˆí‡´ë¥¼ í•œ ê²½ìš° ì²« í™”ë©´ìœ¼ë¡œ ì´ë™í•´ ì•±ì˜ ì²« í™”ë©´ì—ì„œ ì¬ì‹œì‘ í•˜ë„ë¡ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// MyPageViewModel</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">deleteAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    viewModelScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span> <span class=\"token punctuation\">{</span>\n        authRepository<span class=\"token punctuation\">.</span><span class=\"token function\">deleteAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">onSuccess</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// ì²« í™”ë©´ìœ¼ë¡œ ì´ë™</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">onFailure</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// ...</span>\n            <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ë‘ ì˜ˆì‹œì²˜ëŸ¼ ë·°ëª¨ë¸ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì´ë²¤íŠ¸ëŠ” ë·°ëª¨ë¸ì˜ ë©”ì„œë“œì—ì„œ ë°œìƒí•˜ì§€ë§Œ ë‹¤ë¥¸ ì•¡í‹°ë¹„í‹°ë¥¼ ì—´ê±°ë‚˜ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ ë„ìš°ëŠ” ë“± ì´ë²¤íŠ¸ì— ëŒ€í•œ ì²˜ë¦¬ëŠ” ì•¡í‹°ë¹„í‹°ë‚˜ í”„ë˜ê·¸ë¨¼íŠ¸ì—ì„œ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤.</p>\n<p>ì´ëŸ° ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ LiveDataë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤. Flowë¥¼ ì‚¬ìš©í•´ ë·°ëª¨ë¸ì—ì„œ ì•ˆë“œë¡œì´ë“œ ì˜ì¡´ì„±ì„ ì œê±°í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì§€ë§Œ FlowëŠ” ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œ ë‹¤ë£¨ë„ë¡ í•˜ê³ , ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” LiveDataë¥¼ ë‹¤ë£¨ë ¤ í•œë‹¤.</p>\n<h2>LiveDataë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬í•˜ê¸°</h2>\n<p>ë·°ëª¨ë¸ì— ë¼ì´ë¸Œë°ì´í„°ë¥¼ ë‘ê³ , ì•¡í‹°ë¹„í‹°ë‚˜ í”„ë˜ê·¸ë¨¼íŠ¸ì—ì„œ ì´ë¥¼ observe í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">MyPageViewModel</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> _showSignInEvent <span class=\"token operator\">=</span> MutableLiveData<span class=\"token operator\">&lt;</span>Boolean<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> showSignInEvent<span class=\"token operator\">:</span> LiveData<span class=\"token operator\">&lt;</span>Boolean<span class=\"token operator\">></span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> _showSignInEvent <span class=\"token comment\">// 1</span>\n\n\t\t<span class=\"token comment\">// ...</span>\n\n\t\t<span class=\"token keyword\">fun</span> <span class=\"token function\">showSignIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 3</span>\n        _showSignInEvent<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// 4</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// MyPageFragment</span>\n\nvm<span class=\"token punctuation\">.</span>showSignInEvent<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>viewLifecycleOwner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> event <span class=\"token operator\">-></span> <span class=\"token comment\">// 2</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>SignInActivity<span class=\"token punctuation\">.</span><span class=\"token function\">getIntent</span><span class=\"token punctuation\">(</span><span class=\"token function\">requireContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 5</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë²¤íŠ¸ê°€ ì²˜ë¦¬ë˜ëŠ” í”Œë¡œìš°ë¥¼ ë‚˜ì—´í•´ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ol>\n<li>ë·°ëª¨ë¸ì— LiveData<Boolean> íƒ€ì…ì˜ showSignInEventê°€ ìˆë‹¤.</li>\n<li>í”„ë˜ê·¸ë¨¼íŠ¸ì—ì„œ showSignInEventë¥¼ observe í•œë‹¤.</li>\n<li>ë·°ëª¨ë¸ì˜ showSignIn()ì´ í˜¸ì¶œëœë‹¤.</li>\n<li>showSignInEventì˜ ê°’ì´ trueë¡œ ë³€ê²½ëœë‹¤.</li>\n<li>showSignInEvent ê°’ì´ trueë¡œ ë³€ê²½ë˜ì–´ ì´ë¥¼ observe í•˜ëŠ” í”„ë˜ê·¸ë¨¼íŠ¸ì—ì„œ startActivity()ê°€ ì‹¤í–‰ëœë‹¤.</li>\n</ol>\n<h3>ë¬¸ì œì </h3>\n<p>ê·¸ëƒ¥ LiveDataë¡œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë©´ ì´ë²¤íŠ¸ê°€ ì¤‘ë³µìœ¼ë¡œ ë°œìƒë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤. ì•¡í‹°ë¹„í‹° ì´ë™ì€ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ í•œ ë²ˆ ì´ë£¨ì–´ì ¸ì•¼ í•˜ëŠ”ë° showSignInEventë¥¼ observeí•  ë•Œë§ˆë‹¤ ì´ì „ ì´ë²¤íŠ¸ê°€ ì¤‘ë³µìœ¼ë¡œ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´, í† ìŠ¤íŠ¸ë¥¼ ë„ìš°ëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ í™”ë©´ íšŒì „í•˜ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë³´ì.</p>\n<ol>\n<li>LiveDataë¥¼ observeí•œë‹¤.</li>\n<li>LiveData ê°’ì´ ë³€ê²½ë˜ë©´ LiveDataëŠ” ì˜µì €ë²„ì—ê²Œ ë°ì´í„°ë¥¼ emití•˜ì—¬ í† ìŠ¤íŠ¸ê°€ ëœ¬ë‹¤.</li>\n<li>í™”ë©´ íšŒì „í•œë‹¤.</li>\n<li>í™”ë©´ íšŒì „ì— ì˜í•´ ë¼ì´í”„ì‚¬ì´í´ì´ ëŒë©´ì„œ ì•¡í‹°ë¹„í‹°ê°€ ì¬ìƒì„±ë˜ê³  LiveDataë¥¼ ë‹¤ì‹œ observeí•œë‹¤.</li>\n<li>LiveDataëŠ” observeí•  ë•Œ ë§ˆì§€ë§‰ ê°’ì„ emití•˜ì—¬ í† ìŠ¤íŠ¸ê°€ ë‹¤ì‹œ ëœ¬ë‹¤.</li>\n</ol>\n<h3>âŒÂ í•´ê²° 1: LiveDataì˜ ê°’ ë˜ëŒë¦¬ê¸° (1)</h3>\n<p>ì´ë²¤íŠ¸ ë°œìƒ í›„ì— LiveDataì˜ valueë¥¼ ë³€ê²½í•˜ëŠ” ì‹ìœ¼ë¡œ ì¤‘ë³µ ì´ë²¤íŠ¸ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">showSignIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n    _showSignInEvent<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    _showSignInEvent<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•˜ì§€ë§Œ ì´ë²¤íŠ¸ ë°œìƒ í›„ ê°’ì„ ë³€ê²½í•´ ì£¼ëŠ” ê²ƒì€ ë²ˆê±°ë¡­ê¸°ë„ í•˜ê³ , ê°œë°œìì˜ ì‹¤ìˆ˜ë¡œ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ê¸°ë„ ì‰½ë‹¤. ë˜í•œ LiveDataëŠ” ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ëª¨ë“  ê²½ìš°ì— emit í•˜ì§€ ì•ŠëŠ”ë‹¤. showSignInEvent ê°’ì´ trueë¡œ ë³€ê²½ë˜ì–´ë„ í™œì„± ìƒíƒœì˜ ì˜µì €ë²„ê°€ ì—†ë‹¤ë©´ ë³€ê²½ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ëˆ„êµ¬ì—ê²Œë„ ì•Œë¦¬ì§€ ì•Šê³  ë‹¤ì‹œ falseë¡œ ë°”ë€Œê²Œ ë  ìˆ˜ ìˆë‹¤.</p>\n<h3>âŒÂ í•´ê²° 2: LiveDataì˜ ê°’ ë˜ëŒë¦¬ê¸° (2)</h3>\n<p>showSignInEvent ê°’ì„ falseë¡œ ë˜ëŒë¦¬ëŠ” í•¨ìˆ˜ë¥¼ ë·°ëª¨ë¸ì— ì¶”ê°€í•˜ê³ , startActivity() ì´í›„ì— í˜¸ì¶œí•˜ëŠ” ë°©ë²•ë„ ìˆì„ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ì´ ë°©ì‹ë„ ê°œë°œìì˜ ì‹¤ìˆ˜ë¡œ LiveDataê°’ì„ ë˜ëŒë¦¬ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ê²Œë‹¤ê°€ í•œ í™”ë©´ì— ì—¬ëŸ¬ ì´ë²¤íŠ¸ê°€ ì¡´ì¬í•œë‹¤ë©´ ê° ì´ë²¤íŠ¸ë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤. (ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸!)</p>\n<h3>â­•ï¸Â í•´ê²° 3: Event Wrapper</h3>\n<p>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì€ Event Wrapperë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì•ˆë“œë¡œì´ë“œ ìƒ˜í”Œì—ì„œë„ ì‚¬ìš©í•˜ëŠ” ë„ë¦¬ ì“°ì´ëŠ” ë°©ì‹ìœ¼ë¡œ, ê°’ì„ Eventë¡œ ê°ì‹¸ ì´ë²¤íŠ¸ë¥¼ í•œ ë²ˆë§Œ handle í•˜ë„ë¡ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">/**\n * Used as a wrapper for data that is exposed via a LiveData that represents an event.\n */</span>\n<span class=\"token keyword\">open</span> <span class=\"token keyword\">class</span> Event<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> T<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> content<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">var</span> hasBeenHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">set</span> <span class=\"token comment\">// Allow external read but not write</span>\n\n    <span class=\"token comment\">/**\n     * Returns the content and prevents its use again.\n     */</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">getContentIfNotHandled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>hasBeenHandled<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">null</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            hasBeenHandled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n            content\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * Returns the content, even if it's already been handled.\n     */</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">peekContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token operator\">=</span> content\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>showSignInEventëŠ” ì´ì œ LiveData&#x3C;Event<Unit>> íƒ€ì…ì´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">MyPageViewModel</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> _showSignInEvent <span class=\"token operator\">=</span> MutableLiveData<span class=\"token operator\">&lt;</span>Event<span class=\"token operator\">&lt;</span>Unit<span class=\"token operator\">></span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> showSignInEvent<span class=\"token operator\">:</span> LiveData<span class=\"token operator\">&lt;</span>Event<span class=\"token operator\">&lt;</span>Unit<span class=\"token operator\">></span><span class=\"token operator\">></span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> _showSignInEvent\n\n\t\t<span class=\"token comment\">// ...</span>\n\n\t\t<span class=\"token keyword\">fun</span> <span class=\"token function\">showSignIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        _showSignInEvent<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token function\">Event</span><span class=\"token punctuation\">(</span>Unit<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í›„ì—ëŠ” getContentIfNotHandled()ê°€ nullì„ ë¦¬í„´í•˜ë¯€ë¡œ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ì²˜ë¦¬í•˜ë©´ startActivity()ê°€ í•œë²ˆ ì‹¤í–‰ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// MyPageFragment</span>\n\nvm<span class=\"token punctuation\">.</span>showSignInEvent<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>viewLifecycleOwner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> event <span class=\"token operator\">-></span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">getContentIfNotHandled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">let</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>SignInActivity<span class=\"token punctuation\">.</span><span class=\"token function\">getIntent</span><span class=\"token punctuation\">(</span><span class=\"token function\">requireContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>ğŸš€Â ê°œì„  1: SingleLiveData</h3>\n<p>ìœ„ì— Event Wrapper ì½”ë“œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë“¯ì´ íƒ€ì…ì„ ëª¨ë‘ Eventë¡œ ê°ì‹¸ê³ , ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•  ë•Œë§ˆë‹¤ Eventë¡œ ê°ì‹¸ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ë§¤ìš° ê·€ì°®ì€ ì¼ì´ë‹¤. ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ SingleLiveData ë‚´ë¶€ì—ì„œ ì´ë¥¼ ì²˜ë¦¬í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> SingleLiveData<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> liveData <span class=\"token operator\">=</span> MutableLiveData<span class=\"token operator\">&lt;</span>Event<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        liveData<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token function\">Event</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">open</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        liveData<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token function\">Event</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">open</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">postValue</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        liveData<span class=\"token punctuation\">.</span><span class=\"token function\">postValue</span><span class=\"token punctuation\">(</span><span class=\"token function\">Event</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> liveData<span class=\"token punctuation\">.</span>value<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">peekContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>owner<span class=\"token operator\">:</span> LifecycleOwner<span class=\"token punctuation\">,</span> onResult<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>T<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        liveData<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>owner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">getContentIfNotHandled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">let</span><span class=\"token punctuation\">(</span>onResult<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">observePeek</span><span class=\"token punctuation\">(</span>owner<span class=\"token operator\">:</span> LifecycleOwner<span class=\"token punctuation\">,</span> onResult<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>T<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        liveData<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>owner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">onResult</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">.</span><span class=\"token function\">peekContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> MutableSingleLiveData<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span> <span class=\"token operator\">:</span> SingleLiveData<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">postValue</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">postValue</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ SingleLiveDataë¥¼ LiveDataì™€ ìœ ì‚¬í•˜ê²Œ ì‚¬ìš©í•˜ë©´ì„œ ì´ë²¤íŠ¸ê°€ í•œ ë²ˆë§Œ ì²˜ë¦¬ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">MyPageViewModel</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> _showSignInEvent <span class=\"token operator\">=</span> MutableSingleLiveData<span class=\"token operator\">&lt;</span>Unit<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> showSignInEvent<span class=\"token operator\">:</span> SingleLiveData<span class=\"token operator\">&lt;</span>Unit<span class=\"token operator\">></span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> _showSignInEvent\n\n\t\t<span class=\"token comment\">// ...</span>\n\n\t\t<span class=\"token keyword\">fun</span> <span class=\"token function\">showSignIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        _showSignInEvent<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>Unit<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">vm<span class=\"token punctuation\">.</span>showSignInEvent<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>viewLifecycleOwner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>SignInActivity<span class=\"token punctuation\">.</span><span class=\"token function\">getIntent</span><span class=\"token punctuation\">(</span><span class=\"token function\">requireContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>ğŸš€Â ê°œì„  2: sealed interface í™œìš©í•˜ê¸°</h3>\n<p>í˜ìŠ¤íƒ€ê³  ì•±ì˜ ë§ˆì´í˜ì´ì§€ì—ì„œëŠ” 5ê°œì˜ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</p>\n<ol>\n<li>ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™ (ShowSignIn)</li>\n<li>ë¡œê·¸ì•„ì›ƒ ì„±ê³µ (SignOutSuccess)</li>\n<li>íšŒì› íƒˆí‡´ ì„±ê³µ (DeleteAccountSuccess)</li>\n<li>ê³¼ê±° ì˜ˆë§¤ ë‚´ì—­ ë³´ê¸° (ShowTicketHistory)</li>\n<li>ì •ë§ íƒˆí‡´í•˜ì‹œê² ì–´ìš”? ë‹¤ì´ì–¼ë¡œê·¸ ë„ìš°ê¸° (ShowConfirmDelete)</li>\n</ol>\n<p>ìœ„ì—ì„œ ì‚´í´ë³¸ SingleLiveDataë¥¼ ì‚¬ìš©í•´ ë·°ëª¨ë¸ì— ê° ì´ë²¤íŠ¸ë¥¼ ì„ ì–¸í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? MyPageViewModelì— Mutable ê°’ì„ í¬í•¨í•´ì„œ 10ê°œ í”„ë¡œí¼í‹°ê°€ ì¶”ê°€ë  ê²ƒì´ë‹¤. MyPageFragmentì—ì„œëŠ” 5ê°œì˜ ì´ë²¤íŠ¸ë¥¼ ëª¨ë‘ ë”°ë¡œ observe í•´ì•¼ í•œë‹¤.</p>\n<p>í™”ë©´ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ë“¤ì„ sealed interfaceë¡œ ë¬¶ì–´ë³´ì. ì´ì œ ë·°ëª¨ë¸ì—ì„œ _event, event ë‘ ê°œì˜ í”„ë¡œí¼í‹°ë¡œ í™”ë©´ ë‚´ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">sealed</span> <span class=\"token keyword\">interface</span> MyPageEvent <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">object</span> ShowSignIn <span class=\"token operator\">:</span> MyPageEvent\n    <span class=\"token keyword\">object</span> SignOutSuccess <span class=\"token operator\">:</span> MyPageEvent\n    <span class=\"token keyword\">object</span> DeleteAccountSuccess <span class=\"token operator\">:</span> MyPageEvent\n    <span class=\"token keyword\">object</span> ShowTicketHistory <span class=\"token operator\">:</span> MyPageEvent\n    <span class=\"token keyword\">object</span> ShowConfirmDelete <span class=\"token operator\">:</span> MyPageEvent\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">MyPageViewModel</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> _event <span class=\"token operator\">=</span> MutableSingleLiveData<span class=\"token operator\">&lt;</span>MyPageEvent<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> event<span class=\"token operator\">:</span> SingleLiveData<span class=\"token operator\">&lt;</span>MyPageEvent<span class=\"token operator\">></span> <span class=\"token operator\">=</span> _event\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ê¸€ì˜ ë§¨ ì²˜ìŒì— ì–¸ê¸‰í–ˆë˜ ì˜ˆì‹œë¥¼ ë‹¤ì‹œ ë– ì˜¬ë ¤ë³´ì.</p>\n<ul>\n<li>ë·°ëª¨ë¸ì—ì„œ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ í™•ì¸í•´ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìê°€ ì•„ë‹Œ ê²½ìš° SignInActivityë¡œ ì´ë™í•œë‹¤.</li>\n<li>ì‚¬ìš©ìê°€ ë§ˆì´í˜ì´ì§€ì—ì„œ íšŒì› íƒˆí‡´ë¥¼ í•œ ê²½ìš° ì²« í™”ë©´ìœ¼ë¡œ ì´ë™í•´ ì•±ì˜ ì²« í™”ë©´ì—ì„œ ì¬ì‹œì‘ í•˜ë„ë¡ í•œë‹¤.</li>\n</ul>\n<p>ë‘ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">MyPageViewModel</span><span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ViewModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> _event <span class=\"token operator\">=</span> MutableSingleLiveData<span class=\"token operator\">&lt;</span>MyPageEvent<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> event<span class=\"token operator\">:</span> SingleLiveData<span class=\"token operator\">&lt;</span>MyPageEvent<span class=\"token operator\">></span> <span class=\"token operator\">=</span> _event\n\n\t\t<span class=\"token keyword\">fun</span> <span class=\"token function\">loadUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>authRepository<span class=\"token punctuation\">.</span>isSigned<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            _event<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>MyPageEvent<span class=\"token punctuation\">.</span>ShowSignIn<span class=\"token punctuation\">)</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span>\n        viewModelScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ìœ ì € ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">fun</span> <span class=\"token function\">deleteAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        viewModelScope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span> <span class=\"token punctuation\">{</span>\n            authRepository<span class=\"token punctuation\">.</span><span class=\"token function\">deleteAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">onSuccess</span> <span class=\"token punctuation\">{</span>\n                    _event<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>MyPageEvent<span class=\"token punctuation\">.</span>DeleteAccountSuccess<span class=\"token punctuation\">)</span>\n                    <span class=\"token comment\">// ...</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">onFailure</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\">// ...</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>MyPageFragmentì—ì„œëŠ” event í•˜ë‚˜ë§Œ observeí•˜ê³  eventê°€ MyPageEvent ì¤‘ ì–´ëŠ ê²ƒì¸ì§€ ë¶„ê¸°í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// MyPageFragment</span>\n\nvm<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>viewLifecycleOwner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> event <span class=\"token operator\">-></span>\n    <span class=\"token keyword\">when</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">is</span> MyPageEvent<span class=\"token punctuation\">.</span>ShowSignIn <span class=\"token operator\">-></span> <span class=\"token function\">handleShowSignInEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">is</span> MyPageEvent<span class=\"token punctuation\">.</span>SignOutSuccess <span class=\"token operator\">-></span> <span class=\"token function\">handleSignOutSuccessEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">is</span> MyPageEvent<span class=\"token punctuation\">.</span>DeleteAccountSuccess <span class=\"token operator\">-></span> <span class=\"token function\">handleDeleteAccountSuccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">is</span> MyPageEvent<span class=\"token punctuation\">.</span>ShowTicketHistory <span class=\"token operator\">-></span> <span class=\"token function\">handleShowTicketHistory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">is</span> MyPageEvent<span class=\"token punctuation\">.</span>ShowConfirmDelete <span class=\"token operator\">-></span> <span class=\"token function\">handleShowConfirmDelete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">handleShowSignInEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>SignInActivity<span class=\"token punctuation\">.</span><span class=\"token function\">getIntent</span><span class=\"token punctuation\">(</span><span class=\"token function\">requireContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ...</span></code></pre></div>\n<p>ì´ë²¤íŠ¸ì— ì–´ë–¤ ê°’ì„ ì „ë‹¬í•˜ëŠ” ê²½ìš°ë„ ìˆì„ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í˜ìŠ¤íƒ€ê³  ì•±ì˜ ì¶•ì œ ëª©ë¡ í™”ë©´ì—ì„œ ì¶•ì œ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©´ í‹°ì¼“ ì˜ˆë§¤ í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤. ì´ë•Œ ì¶•ì œ IDê°€ í•„ìš”í•˜ë‹¤. ì´ëŸ° ì´ë²¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ classë¡œ ì´ë²¤íŠ¸ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">sealed</span> <span class=\"token keyword\">interface</span> FestivalListEvent <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">class</span> <span class=\"token function\">ShowTicketReserve</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> festivalId<span class=\"token operator\">:</span> Long<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> FestivalListEvent\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// FestivalListViewModel</span>\n\n_event<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowTicketReserve</span><span class=\"token punctuation\">(</span>festivalId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// FestivalListFragment</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">handleEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> FestivalListEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">when</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">is</span> FestivalListEvent<span class=\"token punctuation\">.</span>ShowTicketReserve <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>TicketReserveActivity<span class=\"token punctuation\">.</span><span class=\"token function\">getIntent</span><span class=\"token punctuation\">(</span><span class=\"token function\">requireContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">.</span>festivalId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>sealed interface ì‚¬ìš©í–ˆì„ ë•Œ ì¥ì </strong></p>\n<ul>\n<li>ê° ì´ë²¤íŠ¸ê°€ ëª¨ë‘ MyPageEventë¥¼ ìƒì†í•˜ê¸°ì— MyPageEventì´ë¼ëŠ” í•˜ë‚˜ì˜ íƒ€ì…ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ê° ì´ë²¤íŠ¸ë¥¼ ë·°ëª¨ë¸ì— ëª¨ë‘ ë”°ë¡œ ì„ ì–¸í•˜ê³ , ì•¡í‹°ë¹„í‹°ì—ì„œ ê° ì´ë²¤íŠ¸ë¥¼ observe í•  í•„ìš”ê°€ ì—†ë‹¤.</li>\n<li>MyPageì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ë¥¼ í•œê³³ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ìˆë‹¤. ì¼ì¢…ì˜ ëª…ì„¸ ì—­í• ì„ í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<p><strong>sealed interface ì‚¬ìš©í–ˆì„ ë•Œ ë‹¨ì </strong></p>\n<ul>\n<li>ì¼ê´€ì„± ìˆê²Œ í™”ë©´ë§ˆë‹¤ Event sealed interfaceë¥¼ ì •ì˜í•œë‹¤ë©´ ì´ë²¤íŠ¸ê°€ í•˜ë‚˜ë§Œ ìˆì–´ë„ sealed interfaceë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì•¼í•œë‹¤. ê´€ì ì— ë”°ë¼ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.</li>\n</ul>","frontmatter":{"title":"LiveDataë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬í•˜ê¸°: SingleLiveData","date":"September 19, 2023","update":"September 19, 2023","tags":["Android","Event","SingleLiveData"],"series":null},"fields":{"slug":"/event-singlelivedata/","readingTime":{"minutes":12.39}}},"seriesList":{"edges":[{"node":{"id":"9ecb7f42-84ec-536a-9bfc-a3affcb87512","fields":{"slug":"/oauth2-select-and-apply/"},"frontmatter":{"title":"í˜ìŠ¤íƒ€ê³ ì˜ ì¸ì¦ - OAuth2ë¥¼ ì„ íƒí•˜ê³  ì ìš©í•œ ë°©ë²•"}}},{"node":{"id":"1c28c731-cebd-5aab-b9bd-a5c397bf9c7a","fields":{"slug":"/oauth2-multiple-user-auth/"},"frontmatter":{"title":"í˜ìŠ¤íƒ€ê³ ì˜ ì¸ì¦ - ì—¬ëŸ¬ ì‚¬ìš©ìì˜ ì¸ì¦ê³¼ ì¸ê°€"}}},{"node":{"id":"b2e904f3-69c7-5c99-96e7-9555aaddc0e2","fields":{"slug":"/concurrency-redis/"},"frontmatter":{"title":"ì„ ì°©ìˆœ í‹°ì¼“íŒ…ì— Redis ë„ì…í•˜ê¸°"}}},{"node":{"id":"337eca9e-cd03-5e90-9d8f-d0b86e0ce4b9","fields":{"slug":"/facade-service/"},"frontmatter":{"title":"Facade ê°ì²´ë¥¼ í™œìš©í•´ íŠ¸ëœì­ì…˜ì—ì„œ ì™¸ë¶€ API í†µì‹  ë¶„ë¦¬í•˜ê¸°"}}},{"node":{"id":"9ef33612-c159-552c-ba72-40903662c51c","fields":{"slug":"/event-singlelivedata/"},"frontmatter":{"title":"LiveDataë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬í•˜ê¸°: SingleLiveData"}}},{"node":{"id":"efd29a38-290b-5064-a87e-65f3d5ea4643","fields":{"slug":"/livedata-to-flow/"},"frontmatter":{"title":"Refactoring LiveData to Flow"}}}]},"previous":{"fields":{"slug":"/facade-service/"},"frontmatter":{"title":"Facade ê°ì²´ë¥¼ í™œìš©í•´ íŠ¸ëœì­ì…˜ì—ì„œ ì™¸ë¶€ API í†µì‹  ë¶„ë¦¬í•˜ê¸°"}},"next":{"fields":{"slug":"/livedata-to-flow/"},"frontmatter":{"title":"Refactoring LiveData to Flow"}}},"pageContext":{"id":"9ef33612-c159-552c-ba72-40903662c51c","series":null,"previousPostId":"337eca9e-cd03-5e90-9d8f-d0b86e0ce4b9","nextPostId":"efd29a38-290b-5064-a87e-65f3d5ea4643"}},"staticQueryHashes":[],"slicesMap":{}}